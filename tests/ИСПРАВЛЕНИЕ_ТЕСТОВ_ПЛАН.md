# –ü–ª–∞–Ω –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤ Quiz App

## üìã –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

### ‚ùå –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

1. **–ö–æ–Ω—Ñ–ª–∏–∫—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**:

   - SQLModel 0.0.11 —Ç—Ä–µ–±—É–µ—Ç SQLAlchemy < 2.0.0
   - –í requirements.txt —É–∫–∞–∑–∞–Ω SQLAlchemy 2.0.23
   - –ö–æ–Ω—Ñ–ª–∏–∫—Ç –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ —á–µ—Ä–µ–∑ pip

2. **–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**:

   - ModuleNotFoundError: No module named 'factory'
   - –¢–µ—Å—Ç–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

3. **–ü—Ä–æ–±–ª–µ–º—ã —Å –∏–º–ø–æ—Ä—Ç–∞–º–∏**:

   - –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç
   - –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—É—Ç–µ–π

4. **–ù–∏–∑–∫–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞**:

   - –¢–µ–∫—É—â–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ: 22.08%
   - –¢—Ä–µ–±—É–µ—Ç—Å—è –º–∏–Ω–∏–º—É–º 80%

5. **–°–µ—Ä–≤–∏—Å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã**:
   - Redis service not available
   - Monitoring service not available

## üéØ –ü—Ä–µ–¥–ª–∞–≥–∞–µ–º—ã–µ —Ä–µ—à–µ–Ω–∏—è

### 1. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏

#### ‚úÖ –†–µ—à–µ–Ω–∏–µ:

- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `uv` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ (—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ —Å–∏—Å—Ç–µ–º–µ)
- –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å–æ–≥–ª–∞—Å–Ω–æ pyproject.toml
- –°–æ–∑–¥–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é —Å—Ä–µ–¥—É —á–µ—Ä–µ–∑ uv

#### üîß –ö–æ–º–∞–Ω–¥—ã:

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π —Å—Ä–µ–¥—ã
uv venv

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
uv pip install -e ".[dev]"

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
uv pip install factory-boy faker pytest-asyncio
```

### 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–º–ø–æ—Ä—Ç–æ–≤

#### ‚úÖ –†–µ—à–µ–Ω–∏–µ:

- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å PYTHONPATH –≤ —Ç–µ—Å—Ç–∞—Ö
- –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã
- –û–±–Ω–æ–≤–∏—Ç—å conftest.py –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø—É—Ç–∏

#### üîß –ò–∑–º–µ–Ω–µ–Ω–∏—è:

```python
# –í conftest.py –∏ —Ç–µ—Å—Ç–∞—Ö
import sys
from pathlib import Path

PROJECT_ROOT = Path(__file__).parent.parent
sys.path.insert(0, str(PROJECT_ROOT / "src"))
```

### 3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–±—Ä–∏–∫

#### ‚úÖ –†–µ—à–µ–Ω–∏–µ:

- –û–±–Ω–æ–≤–∏—Ç—å factory-boy –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã –≤ —Ñ–∞–±—Ä–∏–∫–∞—Ö
- –û–±–Ω–æ–≤–∏—Ç—å factories/**init**.py

#### üîß –§–∞–π–ª—ã –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

- `tests/factories/question_factory.py`
- `tests/factories/user_factory.py`
- `tests/factories/survey_factory.py`
- `tests/factories/response_factory.py`

### 4. –ú–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤

#### ‚úÖ –†–µ—à–µ–Ω–∏–µ:

- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ Redis
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ Monitoring service
- –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≥–ª—É—à–∫–∏ –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

#### üîß –î–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ conftest.py:

```python
@pytest.fixture(autouse=True)
def mock_external_services():
    """–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–æ–∫–∞–µ—Ç –≤—Å–µ –≤–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã"""
    with patch('services.redis_service.RedisService') as mock_redis:
        with patch('services.monitoring_service.MonitoringService') as mock_monitoring:
            yield
```

### 5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

#### ‚úÖ –†–µ—à–µ–Ω–∏–µ:

- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PostgreSQL –¥–ª—è —Ç–µ—Å—Ç–æ–≤ (–∫–∞–∫ —É–∫–∞–∑–∞–Ω–æ –≤ –ø–∞–º—è—Ç–∏)
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å testcontainers –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏
- –ò—Å–ø—Ä–∞–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

#### üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:

```python
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ test_settings –≤ conftest.py
@pytest.fixture(scope="session")
def test_settings():
    test_env = {
        "DATABASE_URL": "postgresql+asyncpg://test:test@localhost:5432/test_db",
        "TESTING": "true",
        # ... –¥—Ä—É–≥–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
    }
```

## üìù –ü–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

### –≠—Ç–∞–ø 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è (5 –º–∏–Ω—É—Ç)

1. ‚úÖ –°–æ–∑–¥–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é —Å—Ä–µ–¥—É —á–µ—Ä–µ–∑ uv
2. ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑ pyproject.toml
3. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π

### –≠—Ç–∞–ø 2: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–º–ø–æ—Ä—Ç–æ–≤ (10 –º–∏–Ω—É—Ç)

1. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å conftest.py —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø—É—Ç—è–º–∏
2. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã –≤ —Ñ–∞–±—Ä–∏–∫–∞—Ö
3. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å imports –≤ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–∞—Ö

### –≠—Ç–∞–ø 3: –ú–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤ (10 –º–∏–Ω—É—Ç)

1. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ Redis
2. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –º–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ Monitoring service
3. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∑–∞–≥–ª—É—à–∫–∏ –¥–ª—è Telegram API

### –≠—Ç–∞–ø 4: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–±—Ä–∏–∫ (15 –º–∏–Ω—É—Ç)

1. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å UserFactory
2. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å SurveyFactory
3. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å QuestionFactory
4. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å ResponseFactory
5. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å factories/**init**.py

### –≠—Ç–∞–ø 5: –ó–∞–ø—É—Å–∫ –∏ –æ—Ç–ª–∞–¥–∫–∞ (20 –º–∏–Ω—É—Ç)

1. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ—Å—Ç–µ–π—à–∏–π —Ç–µ—Å—Ç
2. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
3. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã unit/
4. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞

### –≠—Ç–∞–ø 6: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (10 –º–∏–Ω—É—Ç)

1. ‚úÖ –°–æ–∑–¥–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã –≤ Makefile
2. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
3. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –≤ CI/CD

## üéØ –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞ —É–≤–µ–ª–∏—á–∏—Ç—Å—è –¥–æ 80%+
- ‚úÖ –¢–µ—Å—Ç—ã –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞
- ‚úÖ –ë—ã—Å—Ç—Ä–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ (<30 —Å–µ–∫—É–Ω–¥)
- ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –≤ CI/CD

### –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞:

- **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: < 30 —Å–µ–∫—É–Ω–¥
- **–ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞**: > 80%
- **–£—Å–ø–µ—à–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–æ–≤**: 100%
- **–ò–∑–æ–ª—è—Ü–∏—è**: –ö–∞–∂–¥—ã–π —Ç–µ—Å—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º

## üîß –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
uv pip install -e ".[dev]"

# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
uv run pytest tests/unit/ -v

# –ó–∞–ø—É—Å–∫ —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
uv run pytest tests/unit/ --cov=src --cov-report=html --cov-report=term

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞
uv run pytest tests/unit/test_auth_router.py -v

# –ó–∞–ø—É—Å–∫ –≤ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–º —Ä–µ–∂–∏–º–µ
uv run pytest tests/unit/ -n auto
```

## üìä –ü—Ä–æ–≥—Ä–µ—Å—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

- [ ] –≠—Ç–∞–ø 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- [ ] –≠—Ç–∞–ø 2: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–º–ø–æ—Ä—Ç–æ–≤
- [ ] –≠—Ç–∞–ø 3: –ú–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤
- [ ] –≠—Ç–∞–ø 4: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–±—Ä–∏–∫
- [ ] –≠—Ç–∞–ø 5: –ó–∞–ø—É—Å–∫ –∏ –æ—Ç–ª–∞–¥–∫–∞
- [ ] –≠—Ç–∞–ø 6: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üéâ –§–∏–Ω–∞–ª—å–Ω–∞—è —Ü–µ–ª—å

–ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á—É—é —Å–∏—Å—Ç–µ–º—É —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å –≤—ã—Å–æ–∫–∏–º –ø–æ–∫—Ä—ã—Ç–∏–µ–º –∫–æ–¥–∞ –∏ –±—ã—Å—Ç—Ä—ã–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º, –≥–æ—Ç–æ–≤—É—é –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ.

---

_–°–æ–∑–¥–∞–Ω–æ: $(date)_
_–ê–≤—Ç–æ—Ä: AI Assistant_
_–°—Ç–∞—Ç—É—Å: –í –ø—Ä–æ—Ü–µ—Å—Å–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è_
